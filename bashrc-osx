if [[ "$__bashrc_imported_flag" == "defined-${USER}" ]]; then
    return 0
fi
__bashrc_imported_flag="defined-${USER}"

# set a fancy prompt (non-color, unless we know we "want" color)
case "$TERM" in
    xterm) colorize=yes;;
    xterm-color) colorize=yes;;
    xterm-256color) colorize=yes;;
    screen-256color) colorize=yes;;
esac

if [ "$colorize" == "yes" ]; then
    # enable aliases
    alias ls='ls -G'
    alias grep='grep --color=auto'

    # setup a custom prompt
    PS1='╭─\[$(tput -T xterm sgr0)\]( \[$(tput -T xterm setaf 3)\]\w\[$(tput -T xterm setaf 1)\]$(__git_ps1 " (%s)")\[$(tput -T xterm sgr0)\] as \[$(tput -T xterm setaf 2)\]\u\[$(tput -T xterm sgr0)\] at \[$(tput -T xterm setaf 6)\]\h\[$(tput -T xterm sgr0)\] )
╰─\[$(tput -T xterm bold)\]\[$(tput -T xterm setaf 1)\]$\[$(tput -T xterm sgr0)\] '
fi

unset colorize

# enable branch notification niceties on the prompt
if [ -f /usr/share/git-core/git-prompt.sh ]; then
    source /usr/share/git-core/git-prompt.sh
elif [ -f /Applications/Xcode.app/Contents/Developer/usr/share/git-core/git-prompt.sh ]; then
    source /Applications/Xcode.app/Contents/Developer/usr/share/git-core/git-prompt.sh
fi

# set the default editor
alias vim='mvim -v'
export EDITOR=/usr/bin/vim

# commands beginning with one space don't get stored in .bash_history
export HISTIGNORE=' *'

# original $PATH from initial purchase
#/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin

# account for 'homebrew'ed software
export PATH=$HOME/.Renv/bin:$HOME/.goenv/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin

# Postgres.app
export PATH=/Applications/Postgres.app/Contents/MacOS/bin:$PATH

# rbenv setup
if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi

# pyenv setup
if which pyenv > /dev/null; then eval "$(pyenv init -)"; fi

# Renv setup
if which Renv > /dev/null; then eval "$(Renv init -)"; fi

# goenv setup
if which goenv > /dev/null; then eval "$(goenv init -)"; fi

# iTerm2 shortcuts
# based on http://stackoverflow.com/questions/8598021/iterm-2-profiles
function it2profile() { echo -e "\033]50;SetProfile=$1\a"; }
export -f it2profile
